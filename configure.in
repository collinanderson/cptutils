dnl Process this file with autoconf to produce a configure script.
dnl $Id: configure.in,v 1.2 2004/01/29 02:27:52 jjg Exp jjg $

AC_INIT(src/Common.mk.in)

MAJOR_VERSION=1
MINOR_VERSION=02
VERSION="$MAJOR_VERSION.$MINOR_VERSION"

dnl Checks for programs.

AC_PROG_CC
AC_PROG_MAKE_SET
AC_PROG_INSTALL

dnl If we are using gcc the use the -Wall option

if eval "test x$CC = xgcc"; then
  CFLAGS="$CFLAGS -Wall"
fi

dnl Checks for libraries.

AC_CHECK_LIB(m, pow)

dnl Checks for header files.

AC_HEADER_STDC
AC_CHECK_HEADERS(unistd.h)
AC_CHECK_HEADERS(glob.h)

dnl Checks for library functions.

AC_CHECK_FUNCS(strdup)
AC_CHECK_FUNCS(getopt)
AC_CHECK_FUNCS(glob)

dnl Output subsitutions

AC_SUBST(INSTALL_PROGRAM)
AC_SUBST(INSTALL_DATA)
AC_SUBST(VERSION)

dnl Make a config.h

AC_CONFIG_HEADER(src/common/config.h)

dnl Create Makefiles

AC_OUTPUT([Makefile src/Common.mk src/common/version.h])






