# -*- makefile -*-
# Commom Makefile macros
# $Id: Common.mk.in,v 1.11 2012/02/24 00:15:34 jjg Exp jjg $ 

CC       = @CC@
CFLAGS  += @CFLAGS@ @DEFS@
LDFLAGS += 
LDLIBS  += @LIBS@

INSTALL         = @INSTALL@
INSTALL_PROGRAM = @INSTALL_PROGRAM@ 
INSTALL_DATA    = @INSTALL_DATA@ 
INSTALL_DIR     = @INSTALL@ -d 
GGO             = @GGO@
XML2C		= @XML2C@
GPERF		= @GPERF@
XSLTP           = @XSLTP@

prefix      = @prefix@
exec_prefix = @exec_prefix@
bindir      = @bindir@
mandir      = @mandir@
datarootdir = @datarootdir@

RUBBISH += *~

# generate options code from .ggo

ifneq (no,$(GGO))

%.h %.c : %.ggo
	$(GGO) -u -i $< -f $* -F $*

endif

# generate manpages from docbook source, the location
# of the xsl is as used by Debian/Ubuntu

ifneq (no,$(XSLTP))

MANXSL = /usr/share/xml/docbook/stylesheet/docbook-xsl/manpages/docbook.xsl

%.1 : %.xml
	$(XSLTP) $(MANXSL) $<

endif